<div class="change-inform-modal " th:fragment="content">
    <link rel="stylesheet" th:href="@{css/my-page/change-personal-information.css}"/>
    <script>
        function previewImage(event) {
            const input = event.target;
            const reader = new FileReader();
            reader.onload = function() {
                const dataURL = reader.result;
                const output = document.getElementById('profileImage');
                output.src = dataURL;
            };
            reader.readAsDataURL(input.files[0]);
        }
    </script>

    <form id="changeForm"  th:action="@{/mypage/change-personal-information}"  method="post" enctype="multipart/form-data">

<!--        <th:block th:if="${attachmentAddress}">-->
            <img id="profileImage" th:src="${attachmentAddress}" class="avatar" onclick="document.getElementById('fileInput').click();" style="object-fit: cover; cursor: pointer; ">
<!--        </th:block >-->
<!--        <th:block  th:unless="${attachmentAddress}">-->
<!--            <span id="profileImage" class="avatar" onclick="document.getElementById('fileInput').click();" style="object-fit: cover; cursor: pointer; ">TY</span>-->
<!--        </th:block>-->
                <input type="file" id="fileInput" name="profileImage" style="display:none;" accept="image/*" onchange="previewImage(event)">

            <div class="margin">

                <div class="flex">
                    <md-outlined-text-field  name="name" label="name"  th:value="${name}" placeholder="변경할 이름을 입력해주세요." required>
                    </md-outlined-text-field>

                <md-outlined-text-field name="password" type="password" label="password"  placeholder="변경할 패스워드를 입력해주세요.">
                </md-outlined-text-field>
                </div>

            </div>
        <div class="action-buttions">
        <a th:href="@{/mypage/withdrawal}">회원탈퇴</a>
        <div class="register-btn-group">
            <md-filled-button id="changeFormSubmitButton"  form="changeForm" value="change">변경</md-filled-button>
            <md-text-button id="change-inform-close-button" form="form-id" value="cancel">취소</md-text-button>
        </div>
        </div>
    </form>
</div>


