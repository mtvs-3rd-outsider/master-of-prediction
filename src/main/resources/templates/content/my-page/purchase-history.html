

  <!DOCTYPE html>
  <html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Purchase History</title>

  </head>
  <body>
  <div class="main-content" th:fragment="content">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" th:href="@{css/my-page/purchase-history.css}" />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <div >
      <div class="purchase-history">
        <h1 class="purchase-history-title">구매 내역</h1>
        <div class="surface">
          <md-elevation></md-elevation>
          <!-- Content -->
          <md-list id="list-container">
            <md-list-item>
              <div class="bmhannapro row-items">
                <div class="item-1">제목</div>
                <div class="item-2">선택</div>
                <div class="item-3">결과</div>
              </div>
            </md-list-item>
            <md-divider></md-divider>
            <th:block th:each="item : ${items}">
              <md-list-item>
                <div class="bmhannapro row-items">
                  <div class="item item-1" th:text="${item.subjectTitle}"></div>
                  <div class="item item-2">
                    <md-filled-tonal-button class="bmhannapro status-items" th:text="${item.orderChoice}"></md-filled-tonal-button>
                  </div>
                  <div class="item item-3">
                    <md-filled-tonal-button class="bmhannapro status-items"
                                            th:text="${orderChoice == subjectFinishResult ? '승리' : '패배'}"></md-filled-tonal-button>
                  </div>
                </div>
              </md-list-item>
              <md-divider></md-divider>
            </th:block>
          </md-list>
        </div>
        <script>
          function goToPage(page) {
            window.location.href = '/purchase-history/' + page;
          }
          function prevPage(currentPage) {
            if (currentPage > 1) {
              goToPage(currentPage - 1);
            }
          }

          function nextPage(currentPage,totalPages) {
            if (currentPage < totalPages) {
              goToPage(currentPage + 1);
            }
          }
        </script>
        <div class="pagination" id="pagination" th:if="${totalPages > 0}">
          <md-icon-button id="prevBtn"  th:onclick="'prevPage(' + ${page} + ')'">
            <md-icon>arrow_back_ios</md-icon>
          </md-icon-button>
          <div id="pageNumbers" >
            <th:block th:each="page : ${#numbers.sequence(1, totalPages)}">
              <md-text-button th:text="${page}" th:onclick="'goToPage(' + ${page} + ')'"></md-text-button>
            </th:block>
          </div>

          <md-icon-button id="nextBtn" th:onclick="'nextPage(' + ${page} + ',' + ${totalPages} + ')'">
            <md-icon>arrow_forward_ios</md-icon>
          </md-icon-button>
        </div>
      </div>
      </div>
    </div>
  </div>

  </body>
  </html>
