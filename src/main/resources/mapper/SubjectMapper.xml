<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.outsider.masterofprediction.mapper.SubjectMapper">
    <update id="updateTotalPointByDTO" parameterType="com.outsider.masterofprediction.dto.TblBettingOrderDTO">
        UPDATE tbl_subject
        SET subject_total_yes_point = subject_total_yes_point + (CASE WHEN #{orderChoice} = 'Yes' THEN #{orderAmount} ELSE 0 END),
            subject_total_no_point = subject_total_no_point + (CASE WHEN #{orderChoice} = 'No' THEN #{orderAmount} ELSE 0 END)
        WHERE subject_no = #{orderSubjectNo}
    </update>
</mapper>